{% extends 'main/base.html' %}
{% load static %}

{% block head %}
    <script src="{% static 'main/notify.js' %}"></script>
    <script src="{% static 'main/stockchecker.js' %}"></script>
    <title>iStockCheck</title>
{% endblock %}

{% block pagecontent %}
    <br/>
    <div id="status-text" class="centered subhead"></div>
    <br/>
    <div id="instruction-text" class="centered">
        Leave this page open to keep the stock check running.
        <br/>Copy the current URL to preserve your selections.
    </div>

    <h3>Current Stock</h3>
    <div class="bordered">
        <div id="current-stock" class="padded-box-contents">
            Nothing yet found
        </div>
    </div>

    <h3>Notification Settings</h3>
    <div class="bordered">
        <div class="padded-box-contents">
            <label for="use-browser-notification">
                Browser notifications:
                <input id="use-browser-notification" type="checkbox" value="true" checked/>
            </label>
            <p/>
            <label for="pushbullet-access-token">
                <a href="https://www.pushbullet.com">Pushbullet</a> Access Token:
                <input type="text" id="pushbullet-access-token" size="35" max-length="100"/>
            </label>
            <p/>
            <input type="button" id="test-notifications" value="Test Notifications" />
            <p/>
            <span id="pushbullet-dislaimer">
                Pushbullet Access Tokens can be generated on your Pushbullet <a href="https://www.pushbullet.com/#settings/account">Account Settings</a>.
                <br/>
                Your access token is never accessed by or shared with iStockCheck servers.
            </span>
        </div>
    </div>

    <h3>iPhone Models</h3>
    <div class="bordered">
        <ul class="checkboxes">
            {% for iphone in iphones %}
            <li>
                <label for="{{iphone.model_number}}">
                    <input id="{{iphone.model_number}}" class="iphone-checkbox" type="checkbox" value="{{iphone.model_number}}" />
                    {{iphone.name}}
                </label>
            </li>
            {% endfor %}
        </ul>
    </div>

    <h3>Apple Stores</h3>
    <div class="bordered">
        <ul class="checkboxes">
            {% for store in stores %}
            <li>
                <label for="{{store.id_number}}">
                    <input id="{{store.id_number}}" class="store-checkbox" type="checkbox" value="{{store.id_number}}" />
                    {{store.name}}
                </label>
            </li>
            {% endfor %}
        </ul>
    </div>

    <p style="text-align: center;">
        <span style="font-size: 13px;"><a href="https://www.apple.com/iphone-x">iPhone X</a> stock checking coming soon.</span>
    </p>
{% endblock %}
